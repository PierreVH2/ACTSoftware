set_ldisc
A diagnostic utility to assist with the development of a kernel-level driver to interface with a Programmable Logic Converter (PLC) connected to the computer via RS-232 serial connection.

Introduction:
The kernel-level driver for the PLC on the Alan Cousins Telescope is divided into two parts - a generic line discipline component and an ACT-specific PLC string interpretation component. For this scheme to work, the tty device must be set to the N_PLC line discipline, which is implemented by the line discipline component of the ACT PLC driver. This way, the Linux kernel's tty/serial software layer "knows" to forward all communication to the PLC line discipline component. However, the line discipline can only be set once the tty device has been opened and reverts to the standard line discipline after the device is closed. This utility opens the tty device, sets the line discipline to N_PLC and keeps it open indefinitely so that tests and diagnostics can be done on the PLC driver components.

Compiling:
Compile with the following command:
  gcc -Wall -Wextra `pkg-config --cflags --libs gtk+-2.0` -I<plc_ldisc_dir> set_ldisc.c -o set_ldisc
    Where <plc_ldisc_dir> is the directory where the PLC line discipline source files are - specifically the plc_ldisc.h file

Executing:
Before the programme is started, make sure that the plc_ldisc driver is loaded.
To execute the programme, simply run the 'set_ldisc' executable with the tty device filename as the first and only parameter. The tty device filename is that /dev/tty* file that corresponds to the RS-232 (COM) port of the computer to which the PLC is connected - usually /dev/ttyS0 for the first COM port, /dev/ttyS1 for the second COM port, /dev/ttyUSB0 for the first USB<->Serial converter plugged into the system, etc. (note that /dev/tty1, /dev/tty2 etc. IS NOT the COM port and using these could make the computer - in such an event a hard reboot might be the only way of restoring the system).